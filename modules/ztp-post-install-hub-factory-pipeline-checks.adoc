// Module included in the following assemblies:
//
// * scalability_and_performance/ztp-factory-install-clusters.adoc
:_content-type: PROCEDURE
[id="post-hub-factory-pipeline-verification-checks_{context}"]
= Post hub factory pipeline verification checks

Perform the following steps after completion of the hub factory pipeline run.

.Prerequisites

* An {product-title} hub cluster.
* Log in as a user with `cluster-admin` privileges.

.Procedure

. Verify ACM is successfully installed:
+
[source,terminal]
----
$ oc get pod -n open-cluster-management
----
+
.Example output
+
[source,terminal]
----
NAME                                                        READY   STATUS      RESTART         AGE
application-chart-ee7d2-applicastionui-7d99756554-jrs24     1/1     RUNNING     0               6m31s
application-chart-ee7d2-applicastionui-7d99756554-jrs24     1/1     RUNNING     0               6m31s
application-chart-ee7d2-applicastionui-7d99756554-jrs24     1/1     RUNNING     0               6m31s
application-chart-ee7d2-applicastionui-7d99756554-jrs24     1/1     RUNNING     0               6m31s
assisted-image-service-67489b657b-68qtg                     1/1     RUNNING     0               2m30s
assisted-service-5b8874ffd9-rjrg                            2/2     RUNNING     1 (2m19s ago)   2m30s
----

. Verify the HTTPD server is successfully running:
+
[source,terminal]
----
$ oc get pod -n default
----
+
.Example output
+
[source,terminal]
----
NAME                       READY   STATUS      RESTART         AGE
httpd-5479bfd6cb-2p1d4     1/1     RUNNING     0               150m
----

. Verify the internal registry is running:
+
[source,terminal]
----
$ oc get pod -n ztpfw-registry
----
+
.Example output
+
[source,terminal]
----
NAME                          READY   STATUS      RESTART         AGE
ztpfw-registry-77ff664d47     1/1     RUNNING     0               151m
----

. Review the pipeline run and verify the steps that were executed:
+
[NOTE]
====
This shows the duration of every step and the parameters supplied to the pipeline. It also highlights any issues during the execution of the pipeline.
====
+
[source,terminal]
----
$ tkn pr describe -n spoke-deployer
----
+
.Example output
+
[source,terminal]
----
Name:              deploy-ztp-hub-run-4lhgh
Namespace:         spoke-deployer
Pipeline Ref:      deploy-ztp-hub
Service Account:   pipeline
Timeout:           5h0m0s
Labels:
 tekton.dev/pipeline=deploy-ztp-hub

üå°Ô∏è  Status

STARTED       DURATION     STATUS
2 hours ago   34 minutes   Succeeded

üì¶ Resources

 No resources

‚öì Params

clusterimageset: 'openshift-v4.9.13'
  OC_OCP_VERSION: '4.9'
  OC_OCP_TAG: '4.9.13-x86_64'
  OC_RHCOS_RELEASE: '49.84.202110081407-0'
  OC_ACM_VERSION: '2.4'
  OC_OCS_VERSION: '4.8'
spokes:
 ‚àô ztp-container-image   quay.io/ztpfw/pipeline:latest

üìù Results

 No results

üìÇ Workspaces

 NAME    SUB PATH   WORKSPACE BINDING
 ‚àô ztp   ---        PersistentVolumeClaim (claimName=ztp-pvc)

üóÇ  Taskruns

 NAME                                                            TASK NAME                      STARTED       DURATION     STATUS
 ‚àô deploy-ztp-hub-run-4lhgh-deploy-hub-config-kl7qf              deploy-hub-config              1 hour ago    53 seconds   Succeeded
 ‚àô deploy-ztp-hub-run-4lhgh-deploy-icsp-hub-6b76b                deploy-icsp-hub                1 hour ago    14 seconds   Succeeded
 ‚àô deploy-ztp-hub-run-4lhgh-deploy-acm-rwzgl                     deploy-acm                     1 hour ago    9 minutes    Succeeded
 ‚àô deploy-ztp-hub-run-4lhgh-deploy-disconnected-registry-s9xgt   deploy-disconnected-registry   2 hours ago   23 minutes   Succeeded
 ‚àô deploy-ztp-hub-run-4lhgh-deploy-httpd-server-hqq64            deploy-httpd-server            2 hours ago   46 seconds   Succeeded
 ‚àô deploy-ztp-hub-run-4lhgh-pre-flight-8dhtp                     pre-flight                     2 hours ago   39 seconds   Succeeded
----
