// Telcodocs-403 assembly
:_content-type: ASSEMBLY
[id="ztp-factory-workflows"]
= Zero touch provisioning (ZTP) for factory workflows
include::_attributes/common-attributes.adoc[]
:context: ztp-factory-install

:FeatureName: ZTP for factory workflows

include::snippets/technology-preview.adoc[leveloffset=+1]

toc::[]
Zero touch provisioning for factory workflows (ZTPFW) accelerates the deployment of {product-title} with pre-certified hardware and software for rapid edge deployments.

ZTP for factory workflows enables original equipment manufacturer (OEM) partners to pre-install {product-title} at their factory and build turnkey solutions on their hardware. This approach is well suited to a range of different industries including:

* healthcare
* manufacturing
* aerospace
* media
* entertainment
* retail
* telecommunications

ZTP for factory workflows installs the components that enable you to use {product-title} as a disconnected hub cluster. This hub cluster is then able to deploy edge clusters that can be shipped off site for final configuration.

At the factory, the OEM partner first deploys a hub {product-title} cluster and then uses the hub cluster to deploy one or more edge clusters at scale.

Different topologies are supported using the ZTP for factory workflows. The hub cluster can be a single-node OpenShift cluster deploying multiple single-node OpenShift edge clusters or a compact cluster deploying 3 control plane and 1 worker node edge clusters at scale.

[NOTE]
====
The hub cluster is also known as the factory cluster.
====

The following cluster topologies are supported:

.Cluster topologies
[options="header"]
|====
|Hub|Edge
|Compact (3 control plane nodes also able to act as worker nodes)
a|3 + 1 (Compact and 1 worker node)

Compact

Single-node OpenShift
| Single-node OpenShift (Control plane and worker node on a single node)
a|3 + 1

Compact

Single-node OpenShift
|====

Whatever the topology, the hub cluster uses {rh-rhacm-first} and the Assisted Installer (AI) to install edge clusters at scale by using zero touch provisioning (ZTP).

When the edge cluster is installed, it can be shipped to the customer onsite locations and there the end customer unboxes it, and configures the edge cluster making it fully operational.

include::modules/ztp-install-factory-hubspoke-architecture.adoc[leveloffset=+1]

include::modules/ztp-create-factory-hub-cluster.adoc[leveloffset=+1]


[role="_additional-resources"]
.Additional resources

* xref:../cicd/pipelines/understanding-openshift-pipelines.adoc#understanding-openshift-pipelines[Understanding OpenShift Pipelines]

* xref:../installing/installing_bare_metal_ipi/ipi-install-overview.adoc#ipi-install-overview[Installer provisioned overview]

* xref:../installing/installing_sno/install-sno-installing-sno.adoc#install-sno-installing-sno[Installing OpenShift on a single node]

* xref:../storage/persistent_storage/persistent-storage-local.adoc[Persistent storage using local volumes]

* link:https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.9/html/deploying_openshift_data_foundation_using_bare_metal_infrastructure/index[Deploying OpenShift Data Foundation using bare metal infrastructure]

* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.4[Product Documentation for Red Hat Advanced Cluster Management for Kubernetes 2.4]

include::modules/ztp-intro-factory-install.adoc[leveloffset=+1]

include::modules/ztp-install-factory-pipeline-overview.adoc[leveloffset=+1]

include::modules/ztp-hub-factory-pipeline.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:../cli_reference/index.adoc#cli-tools-overview[CLI tools overview]
* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.4/html/install/installing[Install and uninstall Red Hat Advanced Cluster Management]
* xref:../scalability_and_performance/ztp-deploying-disconnected.adoc#enabling-assisted-installer-service-on-bare-metal_ztp-deploying-disconnected[Enabling assisted installer service on bare metal]

include::modules/ztp-check-install-hub-factory-pipeline.adoc[leveloffset=+2]

include::modules/ztp-spoke-factory-pipeline.adoc[leveloffset=+2]


[role="_additional-resources"]
[id="additional-resources_ztp-factory-workflows"]
== Additional resources

* xref:../networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.adoc#k8s-nmstate-about-the-k8s-nmstate-operator[About the Kubernetes NMState Operator]
* xref:../scalability_and_performance/ztp-factory-install-clusters.adoc#ztp-factory-install-pipelines-flags-arguments_ztp-factory-install[ZTP factory install pipelines flags and arguments]
*  xref:../cicd/gitops/understanding-openshift-gitops.adoc#understanding-openshift-gitops[Understanding OpenShift GitOps]
*  xref:../cicd/pipelines/understanding-openshift-pipelines.adoc#understanding-openshift-pipelines[Understanding OpenShift Pipelines]
